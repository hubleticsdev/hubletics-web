{
  "id": "d0244c8c-ee94-4a82-8f00-9e3de5248ea8",
  "prevId": "72e2c9c1-5168-49c3-839e-83b9b7992a42",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "accountId": {
          "name": "accountId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "providerId": {
          "name": "providerId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "accessToken": {
          "name": "accessToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refreshToken": {
          "name": "refreshToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idToken": {
          "name": "idToken",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accessTokenExpiresAt": {
          "name": "accessTokenExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refreshTokenExpiresAt": {
          "name": "refreshTokenExpiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "account_user_id_idx": {
          "name": "account_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_userId_user_id_fk": {
          "name": "account_userId_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_action": {
      "name": "admin_action",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "adminId": {
          "name": "adminId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "admin_action_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "targetUserId": {
          "name": "targetUserId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "relatedEntityId": {
          "name": "relatedEntityId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "admin_action_adminId_user_id_fk": {
          "name": "admin_action_adminId_user_id_fk",
          "tableFrom": "admin_action",
          "tableTo": "user",
          "columnsFrom": [
            "adminId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "admin_action_targetUserId_user_id_fk": {
          "name": "admin_action_targetUserId_user_id_fk",
          "tableFrom": "admin_action",
          "tableTo": "user",
          "columnsFrom": [
            "targetUserId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.athlete_profile": {
      "name": "athlete_profile",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fullName": {
          "name": "fullName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "profilePhoto": {
          "name": "profilePhoto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "sportsInterested": {
          "name": "sportsInterested",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "experienceLevel": {
          "name": "experienceLevel",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "budgetRange": {
          "name": "budgetRange",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "availability": {
          "name": "availability",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "athlete_profile_userId_user_id_fk": {
          "name": "athlete_profile_userId_user_id_fk",
          "tableFrom": "athlete_profile",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "athlete_profile_userId_unique": {
          "name": "athlete_profile_userId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking": {
      "name": "booking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scheduledStartAt": {
          "name": "scheduledStartAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "scheduledEndAt": {
          "name": "scheduledEndAt",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "bookingType": {
          "name": "bookingType",
          "type": "booking_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "approvalStatus": {
          "name": "approvalStatus",
          "type": "booking_approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending_review'"
        },
        "fulfillmentStatus": {
          "name": "fulfillmentStatus",
          "type": "booking_fulfillment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "coachRespondedAt": {
          "name": "coachRespondedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "proposedAlternateTime": {
          "name": "proposedAlternateTime",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "coachConfirmedAt": {
          "name": "coachConfirmedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completedAt": {
          "name": "completedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelledBy": {
          "name": "cancelledBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelledAt": {
          "name": "cancelledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancellationReason": {
          "name": "cancellationReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "idempotencyKey": {
          "name": "idempotencyKey",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "booking_coach_idx": {
          "name": "booking_coach_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_approval_status_idx": {
          "name": "booking_approval_status_idx",
          "columns": [
            {
              "expression": "approvalStatus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_fulfillment_status_idx": {
          "name": "booking_fulfillment_status_idx",
          "columns": [
            {
              "expression": "fulfillmentStatus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_scheduled_start_idx": {
          "name": "booking_scheduled_start_idx",
          "columns": [
            {
              "expression": "scheduledStartAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_coach_date_idx": {
          "name": "booking_coach_date_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduledStartAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_type_idx": {
          "name": "booking_type_idx",
          "columns": [
            {
              "expression": "bookingType",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "booking_coachId_user_id_fk": {
          "name": "booking_coachId_user_id_fk",
          "tableFrom": "booking",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "booking_cancelledBy_user_id_fk": {
          "name": "booking_cancelledBy_user_id_fk",
          "tableFrom": "booking",
          "tableTo": "user",
          "columnsFrom": [
            "cancelledBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "booking_idempotencyKey_unique": {
          "name": "booking_idempotencyKey_unique",
          "nullsNotDistinct": false,
          "columns": [
            "idempotencyKey"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking_participant": {
      "name": "booking_participant",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'participant'"
        },
        "status": {
          "name": "status",
          "type": "participant_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'requested'"
        },
        "paymentStatus": {
          "name": "paymentStatus",
          "type": "participant_payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'requires_payment_method'"
        },
        "amountPaid": {
          "name": "amountPaid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "amountCents": {
          "name": "amountCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripeFeeCents": {
          "name": "stripeFeeCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripePaymentIntentId": {
          "name": "stripePaymentIntentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "authorizedAt": {
          "name": "authorizedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "capturedAt": {
          "name": "capturedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refundedAt": {
          "name": "refundedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "refundAmount": {
          "name": "refundAmount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "joinedAt": {
          "name": "joinedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cancelledAt": {
          "name": "cancelledAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "booking_participant_unique_idx": {
          "name": "booking_participant_unique_idx",
          "columns": [
            {
              "expression": "bookingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_participant_booking_idx": {
          "name": "booking_participant_booking_idx",
          "columns": [
            {
              "expression": "bookingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_participant_user_idx": {
          "name": "booking_participant_user_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "booking_participant_bookingId_booking_id_fk": {
          "name": "booking_participant_bookingId_booking_id_fk",
          "tableFrom": "booking_participant",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "booking_participant_userId_user_id_fk": {
          "name": "booking_participant_userId_user_id_fk",
          "tableFrom": "booking_participant",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking_payment": {
      "name": "booking_payment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "participantId": {
          "name": "participantId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripePaymentIntentId": {
          "name": "stripePaymentIntentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "amountCents": {
          "name": "amountCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'usd'"
        },
        "captureMethod": {
          "name": "captureMethod",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manual'"
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "lastEventAt": {
          "name": "lastEventAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "idempotencyKey": {
          "name": "idempotencyKey",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "booking_payment_intent_unique_idx": {
          "name": "booking_payment_intent_unique_idx",
          "columns": [
            {
              "expression": "stripePaymentIntentId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_payment_booking_idx": {
          "name": "booking_payment_booking_idx",
          "columns": [
            {
              "expression": "bookingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "booking_payment_participant_idx": {
          "name": "booking_payment_participant_idx",
          "columns": [
            {
              "expression": "participantId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "booking_payment_bookingId_booking_id_fk": {
          "name": "booking_payment_bookingId_booking_id_fk",
          "tableFrom": "booking_payment",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "booking_payment_participantId_booking_participant_id_fk": {
          "name": "booking_payment_participantId_booking_participant_id_fk",
          "tableFrom": "booking_payment",
          "tableTo": "booking_participant",
          "columnsFrom": [
            "participantId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.booking_state_transition": {
      "name": "booking_state_transition",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "participantId": {
          "name": "participantId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oldStatus": {
          "name": "oldStatus",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "newStatus": {
          "name": "newStatus",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "changedBy": {
          "name": "changedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "booking_state_transition_bookingId_booking_id_fk": {
          "name": "booking_state_transition_bookingId_booking_id_fk",
          "tableFrom": "booking_state_transition",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "booking_state_transition_participantId_booking_participant_id_fk": {
          "name": "booking_state_transition_participantId_booking_participant_id_fk",
          "tableFrom": "booking_state_transition",
          "tableTo": "booking_participant",
          "columnsFrom": [
            "participantId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "booking_state_transition_changedBy_user_id_fk": {
          "name": "booking_state_transition_changedBy_user_id_fk",
          "tableFrom": "booking_state_transition",
          "tableTo": "user",
          "columnsFrom": [
            "changedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coach_allowed_durations": {
      "name": "coach_allowed_durations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "durationMinutes": {
          "name": "durationMinutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "isDefault": {
          "name": "isDefault",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "coach_allowed_durations_coach_idx": {
          "name": "coach_allowed_durations_coach_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coach_allowed_durations_unique_idx": {
          "name": "coach_allowed_durations_unique_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "durationMinutes",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "coach_allowed_durations_coachId_user_id_fk": {
          "name": "coach_allowed_durations_coachId_user_id_fk",
          "tableFrom": "coach_allowed_durations",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.coach_profile": {
      "name": "coach_profile",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "fullName": {
          "name": "fullName",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "profilePhoto": {
          "name": "profilePhoto",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "introVideo": {
          "name": "introVideo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "specialties": {
          "name": "specialties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "certifications": {
          "name": "certifications",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "accomplishments": {
          "name": "accomplishments",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "hourlyRate": {
          "name": "hourlyRate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "sessionDuration": {
          "name": "sessionDuration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 60
        },
        "preferredLocations": {
          "name": "preferredLocations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "weeklyAvailability": {
          "name": "weeklyAvailability",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "blockedDates": {
          "name": "blockedDates",
          "type": "date[]",
          "primaryKey": false,
          "notNull": false
        },
        "stripeAccountId": {
          "name": "stripeAccountId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripeOnboardingComplete": {
          "name": "stripeOnboardingComplete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "adminApprovalStatus": {
          "name": "adminApprovalStatus",
          "type": "approval_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "adminApprovedAt": {
          "name": "adminApprovedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "adminApprovedBy": {
          "name": "adminApprovedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reputationScore": {
          "name": "reputationScore",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.00'"
        },
        "totalReviews": {
          "name": "totalReviews",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "totalLessonsCompleted": {
          "name": "totalLessonsCompleted",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "groupBookingsEnabled": {
          "name": "groupBookingsEnabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allowPrivateGroups": {
          "name": "allowPrivateGroups",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allowPublicGroups": {
          "name": "allowPublicGroups",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedBy": {
          "name": "updatedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "coach_location_idx": {
          "name": "coach_location_idx",
          "columns": [
            {
              "expression": "location",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "coach_specialties_idx": {
          "name": "coach_specialties_idx",
          "columns": [
            {
              "expression": "specialties",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "coach_reputation_idx": {
          "name": "coach_reputation_idx",
          "columns": [
            {
              "expression": "reputationScore",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "coach_approval_status_idx": {
          "name": "coach_approval_status_idx",
          "columns": [
            {
              "expression": "adminApprovalStatus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "coach_profile_userId_user_id_fk": {
          "name": "coach_profile_userId_user_id_fk",
          "tableFrom": "coach_profile",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "coach_profile_adminApprovedBy_user_id_fk": {
          "name": "coach_profile_adminApprovedBy_user_id_fk",
          "tableFrom": "coach_profile",
          "tableTo": "user",
          "columnsFrom": [
            "adminApprovedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "coach_profile_updatedBy_user_id_fk": {
          "name": "coach_profile_updatedBy_user_id_fk",
          "tableFrom": "coach_profile",
          "tableTo": "user",
          "columnsFrom": [
            "updatedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "coach_profile_userId_unique": {
          "name": "coach_profile_userId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "userId"
          ]
        },
        "coach_profile_stripeAccountId_unique": {
          "name": "coach_profile_stripeAccountId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripeAccountId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.conversation": {
      "name": "conversation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clientId": {
          "name": "clientId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastMessageAt": {
          "name": "lastMessageAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "conversation_unique_pair_idx": {
          "name": "conversation_unique_pair_idx",
          "columns": [
            {
              "expression": "clientId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "conversation_clientId_user_id_fk": {
          "name": "conversation_clientId_user_id_fk",
          "tableFrom": "conversation",
          "tableTo": "user",
          "columnsFrom": [
            "clientId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversation_coachId_user_id_fk": {
          "name": "conversation_coachId_user_id_fk",
          "tableFrom": "conversation",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flagged_group_message": {
      "name": "flagged_group_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "groupMessageId": {
          "name": "groupMessageId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "groupConversationId": {
          "name": "groupConversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "senderId": {
          "name": "senderId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "violations": {
          "name": "violations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "reviewedAt": {
          "name": "reviewedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewedBy": {
          "name": "reviewedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "flagged_message_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "adminNotes": {
          "name": "adminNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flagged_group_message_groupMessageId_group_message_id_fk": {
          "name": "flagged_group_message_groupMessageId_group_message_id_fk",
          "tableFrom": "flagged_group_message",
          "tableTo": "group_message",
          "columnsFrom": [
            "groupMessageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flagged_group_message_groupConversationId_group_conversation_id_fk": {
          "name": "flagged_group_message_groupConversationId_group_conversation_id_fk",
          "tableFrom": "flagged_group_message",
          "tableTo": "group_conversation",
          "columnsFrom": [
            "groupConversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flagged_group_message_senderId_user_id_fk": {
          "name": "flagged_group_message_senderId_user_id_fk",
          "tableFrom": "flagged_group_message",
          "tableTo": "user",
          "columnsFrom": [
            "senderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "flagged_group_message_reviewedBy_user_id_fk": {
          "name": "flagged_group_message_reviewedBy_user_id_fk",
          "tableFrom": "flagged_group_message",
          "tableTo": "user",
          "columnsFrom": [
            "reviewedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.flagged_message": {
      "name": "flagged_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "messageId": {
          "name": "messageId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversationId": {
          "name": "conversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "senderId": {
          "name": "senderId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "violations": {
          "name": "violations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "reviewedAt": {
          "name": "reviewedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewedBy": {
          "name": "reviewedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "flagged_message_action",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "adminNotes": {
          "name": "adminNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "flagged_message_messageId_message_id_fk": {
          "name": "flagged_message_messageId_message_id_fk",
          "tableFrom": "flagged_message",
          "tableTo": "message",
          "columnsFrom": [
            "messageId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flagged_message_conversationId_conversation_id_fk": {
          "name": "flagged_message_conversationId_conversation_id_fk",
          "tableFrom": "flagged_message",
          "tableTo": "conversation",
          "columnsFrom": [
            "conversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "flagged_message_senderId_user_id_fk": {
          "name": "flagged_message_senderId_user_id_fk",
          "tableFrom": "flagged_message",
          "tableTo": "user",
          "columnsFrom": [
            "senderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "flagged_message_reviewedBy_user_id_fk": {
          "name": "flagged_message_reviewedBy_user_id_fk",
          "tableFrom": "flagged_message",
          "tableTo": "user",
          "columnsFrom": [
            "reviewedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.group_conversation": {
      "name": "group_conversation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastMessageAt": {
          "name": "lastMessageAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "group_conversation_bookingId_booking_id_fk": {
          "name": "group_conversation_bookingId_booking_id_fk",
          "tableFrom": "group_conversation",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "group_conversation_bookingId_unique": {
          "name": "group_conversation_bookingId_unique",
          "nullsNotDistinct": false,
          "columns": [
            "bookingId"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.group_conversation_participant": {
      "name": "group_conversation_participant",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "conversationId": {
          "name": "conversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "joinedAt": {
          "name": "joinedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "lastReadAt": {
          "name": "lastReadAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "group_conv_participant_unique_idx": {
          "name": "group_conv_participant_unique_idx",
          "columns": [
            {
              "expression": "conversationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "group_conversation_participant_conversationId_group_conversation_id_fk": {
          "name": "group_conversation_participant_conversationId_group_conversation_id_fk",
          "tableFrom": "group_conversation_participant",
          "tableTo": "group_conversation",
          "columnsFrom": [
            "conversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "group_conversation_participant_userId_user_id_fk": {
          "name": "group_conversation_participant_userId_user_id_fk",
          "tableFrom": "group_conversation_participant",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.group_message": {
      "name": "group_message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "conversationId": {
          "name": "conversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "senderId": {
          "name": "senderId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "readBy": {
          "name": "readBy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "flagged": {
          "name": "flagged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flaggedReason": {
          "name": "flaggedReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "group_message_conversationId_group_conversation_id_fk": {
          "name": "group_message_conversationId_group_conversation_id_fk",
          "tableFrom": "group_message",
          "tableTo": "group_conversation",
          "columnsFrom": [
            "conversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "group_message_senderId_user_id_fk": {
          "name": "group_message_senderId_user_id_fk",
          "tableFrom": "group_message",
          "tableTo": "user",
          "columnsFrom": [
            "senderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.group_pricing_tier": {
      "name": "group_pricing_tier",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "minParticipants": {
          "name": "minParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "maxParticipants": {
          "name": "maxParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pricePerPerson": {
          "name": "pricePerPerson",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "group_pricing_tier_coachId_user_id_fk": {
          "name": "group_pricing_tier_coachId_user_id_fk",
          "tableFrom": "group_pricing_tier",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.idempotency_key": {
      "name": "idempotency_key",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idempotency_key_idx": {
          "name": "idempotency_key_idx",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idempotency_key_expires_idx": {
          "name": "idempotency_key_expires_idx",
          "columns": [
            {
              "expression": "expiresAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "idempotency_key_key_unique": {
          "name": "idempotency_key_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.individual_booking_details": {
      "name": "individual_booking_details",
      "schema": "",
      "columns": {
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clientId": {
          "name": "clientId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "conversationId": {
          "name": "conversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "clientMessage": {
          "name": "clientMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "coachRate": {
          "name": "coachRate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "clientPaysCents": {
          "name": "clientPaysCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "platformFeeCents": {
          "name": "platformFeeCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "coachPayoutCents": {
          "name": "coachPayoutCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripeFeeCents": {
          "name": "stripeFeeCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripeTransferId": {
          "name": "stripeTransferId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripePaymentIntentId": {
          "name": "stripePaymentIntentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "paymentStatus": {
          "name": "paymentStatus",
          "type": "booking_payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "paymentDueAt": {
          "name": "paymentDueAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paymentFinalReminderSentAt": {
          "name": "paymentFinalReminderSentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "clientConfirmedAt": {
          "name": "clientConfirmedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "individual_booking_details_client_id_idx": {
          "name": "individual_booking_details_client_id_idx",
          "columns": [
            {
              "expression": "clientId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "individual_booking_details_payment_status_idx": {
          "name": "individual_booking_details_payment_status_idx",
          "columns": [
            {
              "expression": "paymentStatus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "individual_booking_details_payment_due_at_idx": {
          "name": "individual_booking_details_payment_due_at_idx",
          "columns": [
            {
              "expression": "paymentDueAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "individual_booking_details_bookingId_booking_id_fk": {
          "name": "individual_booking_details_bookingId_booking_id_fk",
          "tableFrom": "individual_booking_details",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "individual_booking_details_clientId_user_id_fk": {
          "name": "individual_booking_details_clientId_user_id_fk",
          "tableFrom": "individual_booking_details",
          "tableTo": "user",
          "columnsFrom": [
            "clientId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "individual_booking_details_conversationId_conversation_id_fk": {
          "name": "individual_booking_details_conversationId_conversation_id_fk",
          "tableFrom": "individual_booking_details",
          "tableTo": "conversation",
          "columnsFrom": [
            "conversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message": {
      "name": "message",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "conversationId": {
          "name": "conversationId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "senderId": {
          "name": "senderId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "readAt": {
          "name": "readAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "flagged": {
          "name": "flagged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flaggedReason": {
          "name": "flaggedReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_conversation_idx": {
          "name": "message_conversation_idx",
          "columns": [
            {
              "expression": "conversationId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_sender_idx": {
          "name": "message_sender_idx",
          "columns": [
            {
              "expression": "senderId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_flagged_idx": {
          "name": "message_flagged_idx",
          "columns": [
            {
              "expression": "flagged",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "where": "\"message\".\"flagged\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_conversationId_conversation_id_fk": {
          "name": "message_conversationId_conversation_id_fk",
          "tableFrom": "message",
          "tableTo": "conversation",
          "columnsFrom": [
            "conversationId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_senderId_user_id_fk": {
          "name": "message_senderId_user_id_fk",
          "tableFrom": "message",
          "tableTo": "user",
          "columnsFrom": [
            "senderId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.private_group_booking_details": {
      "name": "private_group_booking_details",
      "schema": "",
      "columns": {
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "organizerId": {
          "name": "organizerId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "clientMessage": {
          "name": "clientMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "totalParticipants": {
          "name": "totalParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pricePerPerson": {
          "name": "pricePerPerson",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "totalGrossCents": {
          "name": "totalGrossCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "platformFeeCents": {
          "name": "platformFeeCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "coachPayoutCents": {
          "name": "coachPayoutCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripeFeeCents": {
          "name": "stripeFeeCents",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripeTransferId": {
          "name": "stripeTransferId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripePaymentIntentId": {
          "name": "stripePaymentIntentId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "paymentStatus": {
          "name": "paymentStatus",
          "type": "booking_payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "paymentDueAt": {
          "name": "paymentDueAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paymentFinalReminderSentAt": {
          "name": "paymentFinalReminderSentAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "organizerConfirmedAt": {
          "name": "organizerConfirmedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "private_group_booking_details_organizer_id_idx": {
          "name": "private_group_booking_details_organizer_id_idx",
          "columns": [
            {
              "expression": "organizerId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "private_group_booking_details_payment_status_idx": {
          "name": "private_group_booking_details_payment_status_idx",
          "columns": [
            {
              "expression": "paymentStatus",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "private_group_booking_details_payment_due_at_idx": {
          "name": "private_group_booking_details_payment_due_at_idx",
          "columns": [
            {
              "expression": "paymentDueAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "private_group_booking_details_bookingId_booking_id_fk": {
          "name": "private_group_booking_details_bookingId_booking_id_fk",
          "tableFrom": "private_group_booking_details",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "private_group_booking_details_organizerId_user_id_fk": {
          "name": "private_group_booking_details_organizerId_user_id_fk",
          "tableFrom": "private_group_booking_details",
          "tableTo": "user",
          "columnsFrom": [
            "organizerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.public_group_lesson_details": {
      "name": "public_group_lesson_details",
      "schema": "",
      "columns": {
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "clientMessage": {
          "name": "clientMessage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maxParticipants": {
          "name": "maxParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "minParticipants": {
          "name": "minParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pricePerPerson": {
          "name": "pricePerPerson",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "capacityStatus": {
          "name": "capacityStatus",
          "type": "booking_capacity_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "currentParticipants": {
          "name": "currentParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "authorizedParticipants": {
          "name": "authorizedParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "capturedParticipants": {
          "name": "capturedParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stripeTransferId": {
          "name": "stripeTransferId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "recurringLessonId": {
          "name": "recurringLessonId",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "public_group_lesson_details_bookingId_booking_id_fk": {
          "name": "public_group_lesson_details_bookingId_booking_id_fk",
          "tableFrom": "public_group_lesson_details",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "public_group_lesson_details_recurringLessonId_recurring_group_lesson_id_fk": {
          "name": "public_group_lesson_details_recurringLessonId_recurring_group_lesson_id_fk",
          "tableFrom": "public_group_lesson_details",
          "tableTo": "recurring_group_lesson",
          "columnsFrom": [
            "recurringLessonId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recurring_group_lesson": {
      "name": "recurring_group_lesson",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "dayOfWeek": {
          "name": "dayOfWeek",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "startTime": {
          "name": "startTime",
          "type": "time",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "maxParticipants": {
          "name": "maxParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "minParticipants": {
          "name": "minParticipants",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pricePerPerson": {
          "name": "pricePerPerson",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "isActive": {
          "name": "isActive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "startDate": {
          "name": "startDate",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "endDate": {
          "name": "endDate",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "recurring_group_lesson_coachId_user_id_fk": {
          "name": "recurring_group_lesson_coachId_user_id_fk",
          "tableFrom": "recurring_group_lesson",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.refund_request": {
      "name": "refund_request",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requestedBy": {
          "name": "requestedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "refund_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "evidencePhotos": {
          "name": "evidencePhotos",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "requestedAmount": {
          "name": "requestedAmount",
          "type": "refund_amount",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "refund_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "reviewedBy": {
          "name": "reviewedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewedAt": {
          "name": "reviewedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "adminNotes": {
          "name": "adminNotes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "approvedAmount": {
          "name": "approvedAmount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "stripeRefundId": {
          "name": "stripeRefundId",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "refundProcessedAt": {
          "name": "refundProcessedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "refund_request_bookingId_booking_id_fk": {
          "name": "refund_request_bookingId_booking_id_fk",
          "tableFrom": "refund_request",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "refund_request_requestedBy_user_id_fk": {
          "name": "refund_request_requestedBy_user_id_fk",
          "tableFrom": "refund_request",
          "tableTo": "user",
          "columnsFrom": [
            "requestedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "refund_request_reviewedBy_user_id_fk": {
          "name": "refund_request_reviewedBy_user_id_fk",
          "tableFrom": "refund_request",
          "tableTo": "user",
          "columnsFrom": [
            "reviewedBy"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.review": {
      "name": "review",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "bookingId": {
          "name": "bookingId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reviewerId": {
          "name": "reviewerId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "coachId": {
          "name": "coachId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reviewText": {
          "name": "reviewText",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "flagged": {
          "name": "flagged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flaggedReason": {
          "name": "flaggedReason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "adminReviewed": {
          "name": "adminReviewed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "review_coach_idx": {
          "name": "review_coach_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "review_booking_idx": {
          "name": "review_booking_idx",
          "columns": [
            {
              "expression": "bookingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "review_coach_created_idx": {
          "name": "review_coach_created_idx",
          "columns": [
            {
              "expression": "coachId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "createdAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "review_booking_reviewer_unique_idx": {
          "name": "review_booking_reviewer_unique_idx",
          "columns": [
            {
              "expression": "bookingId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "reviewerId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "review_bookingId_booking_id_fk": {
          "name": "review_bookingId_booking_id_fk",
          "tableFrom": "review",
          "tableTo": "booking",
          "columnsFrom": [
            "bookingId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_reviewerId_user_id_fk": {
          "name": "review_reviewerId_user_id_fk",
          "tableFrom": "review",
          "tableTo": "user",
          "columnsFrom": [
            "reviewerId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "review_coachId_user_id_fk": {
          "name": "review_coachId_user_id_fk",
          "tableFrom": "review",
          "tableTo": "user",
          "columnsFrom": [
            "coachId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ipAddress": {
          "name": "ipAddress",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userAgent": {
          "name": "userAgent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "userId": {
          "name": "userId",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_user_id_idx": {
          "name": "session_user_id_idx",
          "columns": [
            {
              "expression": "userId",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_userId_user_id_fk": {
          "name": "session_userId_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "userId"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "session_token_unique": {
          "name": "session_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "emailVerified": {
          "name": "emailVerified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "image": {
          "name": "image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "username": {
          "name": "username",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'client'"
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "profileComplete": {
          "name": "profileComplete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "lastLoginAt": {
          "name": "lastLoginAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "platformFeePercentage": {
          "name": "platformFeePercentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'15.00'"
        },
        "timezone": {
          "name": "timezone",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'America/Chicago'"
        },
        "onboardingPhotoUrl": {
          "name": "onboardingPhotoUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "onboardingVideoUrl": {
          "name": "onboardingVideoUrl",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deletedAt": {
          "name": "deletedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deletedBy": {
          "name": "deletedBy",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "user_email_idx": {
          "name": "user_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_username_idx": {
          "name": "user_username_idx",
          "columns": [
            {
              "expression": "username",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_role_idx": {
          "name": "user_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_status_idx": {
          "name": "user_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_deleted_at_idx": {
          "name": "user_deleted_at_idx",
          "columns": [
            {
              "expression": "deletedAt",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_email_unique": {
          "name": "user_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "user_username_unique": {
          "name": "user_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification": {
      "name": "verification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "identifier": {
          "name": "identifier",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expiresAt": {
          "name": "expiresAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "createdAt": {
          "name": "createdAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updatedAt": {
          "name": "updatedAt",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.admin_action_type": {
      "name": "admin_action_type",
      "schema": "public",
      "values": [
        "approved_coach",
        "rejected_coach",
        "banned_user",
        "suspended_user",
        "warned_user",
        "deleted_account",
        "processed_refund",
        "reviewed_message"
      ]
    },
    "public.approval_status": {
      "name": "approval_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.booking_approval_status": {
      "name": "booking_approval_status",
      "schema": "public",
      "values": [
        "pending_review",
        "accepted",
        "declined",
        "expired",
        "cancelled"
      ]
    },
    "public.booking_capacity_status": {
      "name": "booking_capacity_status",
      "schema": "public",
      "values": [
        "open",
        "full",
        "closed"
      ]
    },
    "public.booking_fulfillment_status": {
      "name": "booking_fulfillment_status",
      "schema": "public",
      "values": [
        "scheduled",
        "completed",
        "disputed"
      ]
    },
    "public.booking_payment_status": {
      "name": "booking_payment_status",
      "schema": "public",
      "values": [
        "not_required",
        "awaiting_client_payment",
        "authorized",
        "captured",
        "refunded",
        "failed"
      ]
    },
    "public.booking_type": {
      "name": "booking_type",
      "schema": "public",
      "values": [
        "individual",
        "private_group",
        "public_group"
      ]
    },
    "public.flagged_message_action": {
      "name": "flagged_message_action",
      "schema": "public",
      "values": [
        "no_action",
        "warning_sent",
        "message_deleted",
        "user_suspended",
        "user_banned"
      ]
    },
    "public.group_type": {
      "name": "group_type",
      "schema": "public",
      "values": [
        "private",
        "public"
      ]
    },
    "public.participant_payment_status": {
      "name": "participant_payment_status",
      "schema": "public",
      "values": [
        "requires_payment_method",
        "authorized",
        "captured",
        "refunded",
        "cancelled"
      ]
    },
    "public.participant_status": {
      "name": "participant_status",
      "schema": "public",
      "values": [
        "requested",
        "awaiting_payment",
        "awaiting_coach",
        "accepted",
        "declined",
        "cancelled",
        "completed"
      ]
    },
    "public.refund_amount": {
      "name": "refund_amount",
      "schema": "public",
      "values": [
        "full",
        "partial"
      ]
    },
    "public.refund_reason": {
      "name": "refund_reason",
      "schema": "public",
      "values": [
        "coach_no_show",
        "coach_cancelled_last_minute",
        "unprofessional",
        "poor_quality",
        "safety_concern",
        "other"
      ]
    },
    "public.refund_status": {
      "name": "refund_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "denied"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "pending",
        "client",
        "coach",
        "admin"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "active",
        "suspended",
        "banned",
        "deactivated"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}